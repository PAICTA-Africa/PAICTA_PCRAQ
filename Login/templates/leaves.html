{% extends "base.html" %}
{% load static %}
{% block title %}Home{% endblock %}
	
		{% block content %}
		
		<!-- Favicon -->
        
		
		<!-- Bootstrap CSS -->
        
		
		<!-- Fontawesome CSS -->
        
		
		<!-- Lineawesome CSS -->
      
		
		<!-- Select2 CSS -->
		
		
		<!-- Datetimepicker CSS -->
		
		
		<!-- Datatable CSS -->
	
		
		<!-- Main CSS -->
        
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="assets/js/html5shiv.min.js"></script>
			<script src="assets/js/respond.min.js"></script>
		<![endif]-->
    
		<!-- Main Wrapper -->
        <div class="main-wrapper">
		
			<!-- Header -->
            <div class="header">
			
				<!-- Logo -->
                <div class="header-left">
					<a href="{% url 'index' %}" class="logo">
						<img src="{% static 'Lassets/img/PCRAQ Logo.png' %}"  height="40" alt="">
					</a>
				</div>
				<!-- /Logo -->
				
				<a id="toggle_btn" href="javascript:void(0);">
					<span class="bar-icon">
						<span></span>
						<span></span>
						<span></span>
					</span>
				</a>
				
				<!-- Header Title -->
                <div class="page-title-box">
					<h3>PAICTA Employee Tracking System</h3>
                </div>
				<!-- /Header Title -->
				
				<a id="mobile_btn" class="mobile_btn" href="#sidebar"><i class="fa fa-bars"></i></a>
				
				<!-- Header Menu -->
				<ul class="nav user-menu">
				
					<!-- Search -->
					<li class="nav-item">
						<div class="top-nav-search">
							<a href="javascript:void(0);" class="responsive-search">
								<i class="fa fa-search"></i>
						   </a>
							<form action="search.html">
								<input class="form-control" type="text" placeholder="Search here">
								<button class="btn" type="submit"><i class="fa fa-search"></i></button>
							</form>
						</div>
					</li>
					<!-- /Search -->
				
					<!-- Flag -->
					<li class="nav-item dropdown has-arrow flag-nav">
						<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">
							<src="" alt="" height="20"> <span></span>
							<alt="" height="20"> <span>Language</span>
						</a>
						<div class="dropdown-menu dropdown-menu-right">
							<a href="javascript:void(0);" class="dropdown-item">
								<img src="{% static 'Dassets/img/flags/us.png' %}" alt="" height="16"> English
							</a>
							<a href="javascript:void(0);" class="dropdown-item">
								<img src="{% static 'Dassets/img/flags/fr.png' %}" alt="" height="16"> French
							</a>
							<a href="javascript:void(0);" class="dropdown-item">
								<img src="{% static 'Dassets/img/flags/es.png' %}" alt="" height="16"> Spanish
							</a>
							<a href="javascript:void(0);" class="dropdown-item">
								<img src="{% static 'Dassets/img/flags/de.png' %}" alt="" height="16"> German
							</a>
						</div>
					</li>
					<!-- /Flag -->
				
					<!-- Notifications -->
					

					<li class="nav-item dropdown has-arrow main-drop">
						<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
							<span class="user-img"><img src="{% static 'Dassets/img/profiles/pro.png' %}" alt="">
							<span class="status online"></span></span>
							<span>Admin</span>
						</a>
						<div class="dropdown-menu">
							<a class="dropdown-item" href="profile.html">My Profile</a>
							<a class="dropdown-item" href="settings.html">Settings</a>
							<a class="dropdown-item" href="login.html">Logout</a>
						</div>
					</li>
				</ul>
				<!-- /Header Menu -->
				
				<!-- Mobile Menu -->
				<div class="dropdown mobile-user-menu">
					<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>
					<div class="dropdown-menu dropdown-menu-right">
						<a class="dropdown-item" href="profile.html">My Profile</a>
						<a class="dropdown-item" href="settings.html">Settings</a>
						<a class="dropdown-item" href="login.html">Logout</a>
					</div>
				</div>
				<!-- /Mobile Menu -->
				
            </div>
			<!-- /Header -->
			
			<!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-inner slimscroll">
					<div id="sidebar-menu" class="sidebar-menu">
						<ul>
							<li class="menu-title"> 
								<span>Main</span>
							</li>
							<li class="submenu">
								<a href="#"><i class="la la-dashboard"></i> <span> Dashboard</span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="index.html">Admin Dashboard</a></li>
									
								</ul>
							</li>
						</ul>
					</div>
                </div>
            </div>
			<!-- /Sidebar -->
			
			<!-- Page Wrapper -->
			
            <div class="page-wrapper">
			
				<!-- Page Content -->
                <div class="content container-fluid">

					<!-- Page Header -->
					<div class="page-header">
						<div class="row align-items-center">
							<div class="col">
								
					
					<h3 class="page-title">Leaves</h3>
								{% for message in messages %}
									<div class="alert {{ message.tags }} alert-dismissible" role="alert">
										<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
										{{ message | safe }}
									</div>
								{% endfor %}
								
							</div>
							
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="table-responsive">
								<table class="table table-striped custom-table mb-0 datatable">	
								<h1></h1>
									<thead>
										<tr>
											{% comment %} <th>Employee Name</th> {% endcomment %}
											<th>Name</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
											<th>Leave Type</th>
											<th>Duration</th>
											<th>Remaining leave days</th>
											<th>Description</th>
											<th>Status</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										{% for person in persons %}
										<tr> 
											<td>{{person.first_name}} {{person.last_name}}</td>
											<td>{{person.start_date}}</td>
											<td>{{person.end_date}}</td>
											<td>{{person.reason}}</td>
											<td>{{person.duration}}</td>
											<td>{{person.days_left}}</td>
											<td>{{person.description}}</td>
											<td>
												<div class="dropdown action-label">
													<select name="status" class="form-control">
														<option value="{{ person.status_choices }}" selected="" hidden="">{{ person.status_choices }}</option>
														<option value="Approve">Approve</option>
														<option value="Decline">Decline</option>
													</select>
													{% comment %} <a class="btn btn-white btn-sm btn-rounded dropdown-toggle" href="#"
														data-toggle="dropdown" aria-expanded="false">
														<i class="fa fa-dot-circle-o text-warning"></i> {{person.status_choices}}
													</a>
													<div class="dropdown-menu dropdown-menu-right">
														<a class="dropdown-item" href="#"><i
															class="fa fa-dot-circle-o text-warning"></i> Pending</a>
														<a class="dropdown-item" href="#"><i
																class="fa fa-dot-circle-o text-success"></i> Approve</a>
														<a class="dropdown-item" href="#"><i
															class="fa fa-dot-circle-o text-danger"></i> Decline</a>
													</div> {% endcomment %}
												</div>
											</td>
											<td><a href="{{person.userid}}" class="btn btn-success">Update</a></td>
										</tr>
										{% endfor %}
									</tbody>
								</h1>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="table-responsive">
								<table class="table table-striped custom-table mb-0 datatable">	
								<h1></h1>
											<tbody>
											{% for employee in object_list %}
                                              <tr>
                                             <td><a href="{% url 'employee_detail' pk=employee.pk %}">{{ employee.first_name }}</a></td>
                                            <td>{{ employee.start_date }}</td>
                                           <td>{{ employee.days_worked }}</td>
                                          <td>{{ employee.days_sick_leave }}</td>
                                         <td>{{ employee.days_annual_leave }}</td>

										
										</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<!-- /Page Content -->

				<!-- Add leaves Modal -->
                <div id="add_resignation" class="modal custom-modal fade" role="dialog">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Approve Leave</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<form action="/leave" method="post" enctype="multipart/form-data">
									{% csrf_token %}
									<div class="form-group">
										<label>Employee <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "name" placeholder="Nomathamsanqa">
									</div>
									<div class="form-group">
										<label>Start date<span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name ="start date" class="form-control datetimepicker">
										</div>
									</div>
									<div class="form-group">
										<label>End date<span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name = "end date" class="form-control datetimepicker">
										</div>
									</div>
									<div class="form-group">
										<label>Type of leave<span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name = "type of leave" class="form-control datetimepicker">
										</div>
									</div>
									<div class="form-group">
										<label>Duration<span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name = "duration" class="form-control datetimepicker">
										</div>
								
									<div class="form-group">
									<ul class="breadcrumb">
										<li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
										<li class="breadcrumb-item active">Leave</li>
									</ul>
									
										<div class="form-group">
										  <label for="resignation_letter">Letter:</label>
										  <input type="file" class="form-control-file" id="resignation_letter" name="resignation_letter">
										</div>
									<div class="submit-section">
										<button class="btn btn-primary submit-btn">Submit</button>
									
									</div>
									{% comment %} {% endfor %} {% endcomment %}
								</form>
							</div>
						</div>
					</div>
				</div>

					<!--
					<div class="page-header">
						<div class="row align-items-center">
							<div class="col">
								
								<h3 class="page-title">Leaves</h3>
								{% for message in messages %}
									<div class="alert {{ message.tags }} alert-dismissible" role="alert">
										<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
										{{ message | safe }}
									</div>
								{% endfor %}
								
							</div>
							<div class="col-auto float-right ml-auto">
								<a href="#" class="btn add-btn" data-toggle="modal" data-target="#add_leaves"><i class="fa fa-plus"></i> Add Leave</a>
							</div>
						</div>
					</div>
				-->
					<!-- /Page Header -->
					
					<!--
					<div class="row">
						<div class="col-md-12">
							<div class="table-responsive">
								<table class="table table-striped custom-table mb-0 datatable">
									<thead>
										<tr>
											<th>#</th>
											<th>Name </th>
											<th>Name </th>
											<th>Start Date </th>
											<th>End Date </th>
											<th>Leave Type </th>
											<th>Total Annual Leaves </th>
											<th>Leaves Taken </th>
											<th>Leaves Remaining </th>
											<th class="text-right">Action</th>
										</tr>
									</thead>
									<tbody>
										{% for x in leave %}
											<tr>
												<td>-</td>
												<td>
													<h2 class="table-avatar blue-link">
														<a href="{% static 'profile.html' %}" class="avatar"><img alt="" src="{% static 'Dassets/img/profiles/pers.png' %}"></a>
														<a href="{% static 'profile.html' %}">{{x.empname}}</a>
													</h2>
												</td>
												<td>{{x.employee}}</td>
												<td>{{x.start_date}}</td>
												<td>{{x.end_date}}</td>
												<td>{{x.leave_type}}</td>
												<td>{{x.total_number}}</td>
												<td>{{x.used_number}}</td>
												<td>{{x.remaining_number}}</td>
												<td class="text-right">
													<div class="dropdown dropdown-action">
														<a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
														<div class="dropdown-menu dropdown-menu-right">
															<a class="dropdown-item" href="#" data-toggle="modal" data-target="#edit_leaves"><i class="fa fa-pencil m-r-5"></i> Edit</a>
															<a class="dropdown-item" href="#" data-toggle="modal" data-target="#delete_leaves"><i class="fa fa-trash-o m-r-5"></i> Delete</a>
														</div>
													</div>
												</td>
											</tr>
                                             
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div> -->
                </div>
			
				<!-- /Page Content -->

				<!-- Add progress Modal -->
				<!--
				<div id="add_leaves" class="modal custom-modal fade" role="dialog">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Add Leaves</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<form action="/leaves" method="post" enctype="multipart/form-data">
									{% csrf_token %}
									<div class="form-group">
										<label>Name <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "name" placeholder="Nomathamsanqa">
									</div>
									<div class="form-group">
										<label>Start Date <span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name ="start_date" class="form-control datetimepicker">
										</div>
									</div>
									<div class="form-group">
										<label>End Date <span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" name ="end_date" class="form-control datetimepicker">
										</div>
									</div>
                                    <div class="form-group">
										<label>Leave Type <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "Leave_type" placeholder="1">
									</div>
                                    <div class="form-group">
										<label>Total Annual Leaves <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "total_number" placeholder="11">
									</div>
									<div class="form-group">
										<label>Leaves Taken <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "used_number" placeholder="1">
									</div>
									<div class="form-group">
										<label>Remaining Leaves <span class="text-danger">*</span></label>
										<input class="form-control" type="text"name = "remaining_number" placeholder="10">
									</div>
								    <div class="submit-section">
										<button class="btn btn-primary submit-btn">Submit</button>
									</div>									
								</form>
							</div>
						</div>
					</div>
				</div> 
			-->
				<!-- /Add leaves Modal -->
				
				<!-- Edit leaves Modal -->
				<!--
				<div id="edit_leaves" class="modal custom-modal fade" role="dialog">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Edit Leave</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<form>
									<div class="form-group">
										<label>Name <span class="text-danger">*</span></label>
										<input class="form-control" type="text" value="Nomathamsanqa">
									</div>
									<div class="form-group">
										<label>Start Date <span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" class="form-control datetimepicker" value="28/02/2021">
										</div>
									</div>
									<div class="form-group">
										<label>End Date <span class="text-danger">*</span></label>
										<div class="cal-icon">
											<input type="text" class="form-control datetimepicker" value="28/02/2021">
										</div>
									</div>
                                    <div class="form-group">
										<label>Leave Date <span class="text-danger">*</span></label>
										<input class="form-control" type="text" value="cisco">
									</div>
                                    <div class="form-group">
										<label>Total Annual Leaves <span class="text-danger">*</span></label>
										<input class="form-control" type="text" value="peogress">
									</div>
									<div class="form-group">
										<label>Leaves Taken <span class="text-danger">*</span></label>
										<input class="form-control" type="text" value="peogress">
									</div>
									<div class="form-group">
										<label>Remaining Leaves <span class="text-danger">*</span></label>
										<input class="form-control" type="text" value="peogress">
									</div>
									<div class="submit-section">
										<button class="btn btn-primary submit-btn">Submit</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			-->
				<!-- /Edit leaves Modal -->
				
				<!-- Delete leaves Modal -->
				<!--
				<div class="modal custom-modal fade" id="delete_leaves" role="dialog">
					<div class="modal-dialog modal-dialog-centered">
						<div class="modal-content">
							<div class="modal-body">
								<div class="form-header">
									<h3>Delete Leave</h3>
									<p>Are you sure want to delete?</p>
								</div>
								<div class="modal-btn delete-action">
									<div class="row">
										<div class="col-6">
											<a href="javascript:void(0);" class="btn btn-primary continue-btn">Delete</a>
										</div>
										<div class="col-6">
											<a href="javascript:void(0);" data-dismiss="modal" class="btn btn-primary cancel-btn">Cancel</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>-->
				<!-- /Delete progress Modal -->
			
                <!--other navigation links-->
                
			
            </div>
			<!-- /Page Wrapper -->

        </div>
		<!-- /Main Wrapper -->
		
		<!-- jQuery -->
        <script src="assets/js/jquery-3.5.1.min.js"></script>
		
		<!-- Bootstrap Core JS -->
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
		
		<!-- Slimscroll JS -->
		<script src="assets/js/jquery.slimscroll.min.js"></script>
				
		<!-- Select2 JS -->
		
		
		<!-- Datetimepicker JS -->
		
		
		<!-- Datatable JS -->
		
		
		<!-- Custom JS -->
	{% endblock %}	